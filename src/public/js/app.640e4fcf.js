(function(t){function a(a){for(var e,i,c=a[0],o=a[1],u=a[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e]);l&&l(a);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,a=0;a<s.length;a++){for(var r=s[a],e=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(e=!1)}e&&(s.splice(a--,1),t=i(i.s=r[0]))}return t}var e={},n={app:0},s=[];function i(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,a,r){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)i.d(r,e,function(a){return t[a]}.bind(null,e));return r},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=a,c=c.slice();for(var u=0;u<c.length;u++)a(c[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(t,a,r){t.exports=r("56d7")},"034f":function(t,a,r){"use strict";var e=r("85ec"),n=r.n(e);n.a},"04c6":function(t,a,r){"use strict";var e=r("30b7"),n=r.n(e);n.a},"30b7":function(t,a,r){},"56d7":function(t,a,r){"use strict";r.r(a);r("e260"),r("e6cf"),r("cca6"),r("a79d");var e=r("2b0e"),n=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"app"}},[r("List",{staticClass:"mt-2",attrs:{id:"list"}}),r("Reproductor",{attrs:{id:"reproductor"}})],1)},s=[],i=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"row align-items-center",attrs:{id:"reproductor"}},[r("audio",{attrs:{id:"player"},on:{timeupdate:function(a){return t.progressbar()},ended:function(a){return t.forWard()}}},[r("source",{attrs:{id:"audioSource",src:"/track/play/"+t.track.song,type:"audio/mp3"}})]),r("div",{staticClass:"col-md-3"},[r("div",{staticClass:"row"},[r("img",{attrs:{src:t.track.photo,alt:"",id:"miniatura"}}),r("div",{staticClass:"col-md-6 ml-2 mt-2"},[r("h6",{attrs:{id:"cancion"}},[t._v(t._s(t.track.title))]),r("h6",{attrs:{id:"artista"}},[t._v(t._s(t.track.artist))])])])]),r("div",{staticClass:"col md-6"},[r("div",{staticClass:"row justify-content-center "},[r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.setRandom(!t.isRandom)}}},[t.isRandom?r("i",{staticClass:"fas fa-random activo"}):r("i",{staticClass:"fas fa-random"})]),r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.backWard()}}},[r("i",{staticClass:"fas fa-step-backward"})]),r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.togglePlay(t.track._id)}}},[t.isPlaying?r("i",{staticClass:"fas fa-pause",attrs:{id:"playIcon"}}):r("i",{staticClass:"fas fa-play",attrs:{id:"playIcon"}})]),r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.forWard()}}},[r("i",{staticClass:"fas fa-step-forward"})]),0==t.repeat?r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.setRepeat(1)}}},[r("i",{staticClass:"fas fa-long-arrow-alt-right"})]):1==t.repeat?r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.setRepeat(2)}}},[r("i",{staticClass:"fas fa-retweet"})]):r("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(a){return t.setRepeat(0)}}},[r("i",{staticClass:"fas fa-retweet activo"})])]),r("div",{staticClass:"row justify-content-center align-items-center"},[r("a",{attrs:{href:"#",id:"start-time"}},[t._v(t._s(t.currentTime))]),r("input",{staticClass:"slider ml-4 mr-4",attrs:{type:"range",min:"0.000",max:"1.000",step:"0.001",id:"trackProgress"},domProps:{value:t.progressValue},on:{click:function(a){return t.seek(a)}}}),r("a",{attrs:{href:"#",id:"end-time"}},[t._v(t._s(t.totalDuration))])])]),r("div",{staticClass:"col-md-3 row align-items-center justify-content-center"},[r("a",{attrs:{href:"#"}},[t.volume<.5?r("i",{staticClass:"fas fa-volume-down",attrs:{id:"volumeIcon"}}):0==t.volume?r("i",{staticClass:"fas fa-volume-mute",attrs:{id:"volumeIcon"}}):r("i",{staticClass:"fas fa-volume-up",attrs:{id:"volumeIcon"}})]),r("input",{staticClass:"ml-2 slider",attrs:{type:"range",name:"",min:"0",max:"100",value:"80",id:"trackVolume"},on:{change:function(a){return t.changeVolume()}}})])])},c=[],o=(r("b680"),r("d3b7"),r("25f0"),r("5530")),u=new e["a"],l=u,f=r("2f62"),d={name:"Reproductor",data:function(){return{calculing:!1,current:0,progressValue:0,player:null,volumeControl:null}},mounted:function(){var t=this;this.player=this.$el.querySelector("#player"),this.volumeControl=this.$el.querySelector("#trackVolume"),l.$on("load-song",(function(a){return t.loadSong(a)})),l.$on("toggle-play",(function(){return t.togglePlay()}))},methods:Object(o["a"])({changeVolume:function(){this.setVolume(this.volumeControl.value/100),this.player.volume=this.volume},togglePlay:function(){this.isPlaying?(this.setIsPlaying(!1),this.player.pause()):(this.setIsPlaying(!0),this.player.play())},progressbar:function(){this.calculing||(this.current=this.player.currentTime,this.progressValue=parseFloat(this.player.currentTime/this.track.duration))},loadSong:function(t){this.setTrack(t),this.setIsPlaying(!1),this.player.load()},seek:function(t){this.calculing=!0;var a=t.offsetX/t.target.offsetWidth;this.player.currentTime=a*this.track.duration,this.progressValue=parseFloat(a/100),this.calculing=!1},forWard:function(){this.skip(),this.player.load(),this.togglePlay(),this.togglePlay()},backWard:function(){this.back(),this.player.load(),this.togglePlay(),this.togglePlay()}},Object(f["b"])("tracks",["setTrack","setIsPlaying","setVolume","setRepeat","skip","back","setRandom"])),computed:Object(o["a"])({totalDuration:function(){var t=this.track.duration,a=Math.floor(t/60),r=t-60*a,e=r.toString(),n=e.substr(0,2),s=a+":"+(n<10?"0"+n:n);return s},currentTime:function(){var t=this.current,a=parseInt(t/60)%60,r=t%60,e=r.toFixed(),n=(a<10?""+a:a)+":"+(e<10?"0"+e:e);return n}},Object(f["c"])("tracks",{track:"currentTrack",isPlaying:"isPlaying",volume:"volume",repeat:"repeat",isRandom:"isRandom"}))},p=d,m=(r("04c6"),r("2877")),h=Object(m["a"])(p,i,c,!1,null,"71a22e66",null),v=h.exports,k=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"container"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"List col-md-12"},[r("h2",{staticClass:"my-3"},[t._v("Ducenfy")]),r("div",{staticClass:"tabla"},[r("table",{staticClass:"table"},[t._m(0),r("tbody",t._l(t.tracks,(function(a){return r("tr",{key:a._id,attrs:{id:a._id}},[r("td",[r("a",{attrs:{href:"#"},on:{click:function(r){return t.selectTrack(a._id)}}},[a._id!=t.currentTrack._id?r("i",{staticClass:"fas fa-play",attrs:{id:"playIcon"}}):t.isPlaying?r("i",{staticClass:"fas fa-pause activo",attrs:{id:"playIcon"}}):r("i",{staticClass:"fas fa-play activo",attrs:{id:"playIcon"}})])]),r("td",[t._v(t._s(a.title))]),r("td",[t._v(t._s(a.artist))]),r("td",[t._v(t._s(a.album))]),r("td",[t._v(t._s(t._f("formatTime")(a.duration)))])])})),0)])])])])])},g=[function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("thead",[r("tr",[r("th",{attrs:{scope:"col"}}),r("th",{attrs:{scope:"col"}},[t._v("Title")]),r("th",{attrs:{scope:"col"}},[t._v("Artist")]),r("th",{attrs:{scope:"col"}},[t._v("Album")]),r("th",{attrs:{scope:"col"}},[t._v("Duracion")])])])}],_=(r("96cf"),r("1da1")),y=r("bc3a"),T=r.n(y);function b(){return C.apply(this,arguments)}function C(){return C=Object(_["a"])(regeneratorRuntime.mark((function t(){var a,r,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get("/track");case 3:return a=t.sent,r=a.data,e=r.tracks,t.abrupt("return",e);case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),C.apply(this,arguments)}function R(t){return w.apply(this,arguments)}function w(){return w=Object(_["a"])(regeneratorRuntime.mark((function t(a){var r,e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get("/track/".concat(a));case 3:return r=t.sent,e=r.data,n=e.track,t.abrupt("return",n);case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),w.apply(this,arguments)}var S={listTrack:b,getTrack:R},P={tracks:S},x={name:"List",filters:{formatTime:function(t){var a=parseFloat(t),r=Math.floor(a/60),e=a-60*r,n=e.toString(),s=n.substr(0,2),i=r+":"+(s<10?"0"+s:s);return i}},computed:Object(f["c"])("tracks",["tracks","listTracks","currentTrack","isPlaying","repeat"]),mounted:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,P.tracks.listTrack();case 2:r=a.sent,t.setTracks(r);case 4:case"end":return a.stop()}}),a)})))()},methods:Object(o["a"])({},Object(f["b"])("tracks",["setTracks"]),{selectTrack:function(t){t!=this.currentTrack._id&&l.$emit("load-song",t),l.$emit("toggle-play")}})},E=x,O=(r("f62b"),Object(m["a"])(E,k,g,!1,null,null,null)),j=O.exports,I={components:{Reproductor:v,List:j}},A=I,M=(r("034f"),Object(m["a"])(A,n,s,!1,null,null,null)),V=M.exports,$=r("8c4f");e["a"].use($["a"]);var N=[],U=new $["a"]({mode:"history",base:"/",routes:N}),D=U,K=(r("7db0"),r("c740"),r("d81d"),r("a434"),r("38cf"),{tracks:[],listTracks:[],currentTrack:{_id:"",title:"Unknow",duration:0,photo:"http://localhost:3000/images/default-song-image.jpg",song:"",album:"Unknow",artist:"Unknow"},randomTracks:[],isPlaying:!1,isRandom:!1,repeat:0,volume:80}),L={},W={SET_CURRENT_TRACK:function(t,a){t.currentTrack=a},SET_IS_PLAYING:function(t,a){t.isPlaying=a},SET_VOLUME:function(t,a){t.volume=a},SET_TRACKS:function(t,a){t.tracks=a},SET_REPEAT:function(t,a){t.repeat=a},SET_IS_RANDOM:function(t,a){t.isRandom=a},SET_RANDOM_TRACKS:function(t,a){t.randomTracks=a}},F={setTrack:function(t,a){var r,e=t.commit,n=t.state;r=n.isRandom?n.randomTracks.find((function(t){return t._id==a})):n.tracks.find((function(t){return t._id==a})),e("SET_CURRENT_TRACK",r)},setIsPlaying:function(t,a){var r=t.commit;r("SET_IS_PLAYING",a)},setVolume:function(t,a){var r=t.commit;r("SET_VOLUME",a)},setTracks:function(t,a){var r=t.commit;r("SET_TRACKS",a)},setRepeat:function(t,a){var r=t.commit;r("SET_REPEAT",a)},skip:function(t){var a,r=t.commit,e=t.state,n=0;e.isRandom?(n=e.randomTracks.findIndex((function(t){return e.currentTrack._id==t._id})),a=e.randomTracks):(n=e.tracks.findIndex((function(t){return e.currentTrack._id==t._id})),a=e.tracks),2!=e.repeat&&(n==a.length-1?1==e.repeat&&(n=0):n++,r("SET_CURRENT_TRACK",a[n]))},back:function(t){var a,r=t.commit,e=t.state,n=0;e.isRandom?(n=e.randomTracks.findIndex((function(t){return e.currentTrack._id==t._id})),a=e.randomTracks):(n=e.tracks.findIndex((function(t){return e.currentTrack._id==t._id})),a=e.tracks),2!=e.repeat&&(0==n?1==e.repeat&&(n=a.length-1):n--,r("SET_CURRENT_TRACK",a[n]))},setRandom:function(t,a){var r=t.commit,e=t.state;if(a){var n=e.tracks.map((function(t){return t}));n.sort((function(){return Math.random()-.5}));var s=n.findIndex((function(t){return e.currentTrack._id==t._id}));if(-1!=s){var i=n.splice(s,1);n.splice(0,0,i[0])}r("SET_RANDOM_TRACKS",n)}r("SET_IS_RANDOM",a)}},q={namespaced:!0,state:K,getters:L,mutations:W,actions:F};e["a"].use(f["a"]);var G=new f["a"].Store({modules:{tracks:q}});e["a"].config.productionTip=!1,new e["a"]({router:D,store:G,render:function(t){return t(V)}}).$mount("#app")},"65da":function(t,a,r){},"85ec":function(t,a,r){},f62b:function(t,a,r){"use strict";var e=r("65da"),n=r.n(e);n.a}});
//# sourceMappingURL=app.640e4fcf.js.map