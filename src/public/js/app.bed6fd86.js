(function(t){function r(r){for(var e,i,c=r[0],o=r[1],u=r[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e]);l&&l(r);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,r=0;r<s.length;r++){for(var a=s[r],e=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(e=!1)}e&&(s.splice(r--,1),t=i(i.s=a[0]))}return t}var e={},n={app:0},s=[];function i(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,r,a){i.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,r){if(1&r&&(t=i(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var e in t)i.d(a,e,function(r){return t[r]}.bind(null,e));return a},i.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(r,"a",r),r},i.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=r,c=c.slice();for(var u=0;u<c.length;u++)r(c[u]);var l=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,r,a){t.exports=a("56d7")},"034f":function(t,r,a){"use strict";var e=a("85ec"),n=a.n(e);n.a},"04c6":function(t,r,a){"use strict";var e=a("30b7"),n=a.n(e);n.a},"30b7":function(t,r,a){},"56d7":function(t,r,a){"use strict";a.r(r);a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),n=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{attrs:{id:"app"}},[a("List",{staticClass:"mt-2",attrs:{id:"list"}}),a("Reproductor",{attrs:{id:"reproductor"}})],1)},s=[],i=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"row align-items-center",attrs:{id:"reproductor"}},[a("audio",{attrs:{id:"player"},on:{timeupdate:function(r){return t.progressbar()},ended:function(r){return t.forWard()}}},[a("source",{attrs:{id:"audioSource",src:"/track/play/"+t.track.song,type:"audio/mp3"}})]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"row"},[a("img",{attrs:{src:t.track.photo,alt:"",id:"miniatura"}}),a("div",{staticClass:"col-md-6 ml-2 mt-2"},[a("h6",{attrs:{id:"cancion"}},[t._v(t._s(t.track.title))]),a("h6",{attrs:{id:"artista"}},[t._v(t._s(t.track.artist))])])])]),a("div",{staticClass:"col md-6"},[a("div",{staticClass:"row justify-content-center "},[a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.setRandom(!t.isRandom)}}},[t.isRandom?a("i",{staticClass:"fas fa-random activo"}):a("i",{staticClass:"fas fa-random"})]),a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.backWard()}}},[a("i",{staticClass:"fas fa-step-backward"})]),a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.togglePlay(t.track._id)}}},[t.isPlaying?a("i",{staticClass:"fas fa-pause",attrs:{id:"playIcon"}}):a("i",{staticClass:"fas fa-play",attrs:{id:"playIcon"}})]),a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.forWard()}}},[a("i",{staticClass:"fas fa-step-forward"})]),0==t.repeat?a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.setRepeat(1)}}},[a("i",{staticClass:"fas fa-long-arrow-alt-right"})]):1==t.repeat?a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.setRepeat(2)}}},[a("i",{staticClass:"fas fa-retweet"})]):a("a",{staticClass:"mx-4",attrs:{href:"#"},on:{click:function(r){return t.setRepeat(0)}}},[a("i",{staticClass:"fas fa-retweet activo"})])]),a("div",{staticClass:"row justify-content-center align-items-center"},[a("a",{attrs:{href:"#",id:"start-time"}},[t._v(t._s(t.currentTime))]),a("input",{staticClass:"slider ml-4 mr-4",attrs:{type:"range",min:"0.000",max:"1.000",step:"0.001",id:"trackProgress"},domProps:{value:t.progressValue},on:{click:function(r){return t.seek(r)}}}),a("a",{attrs:{href:"#",id:"end-time"}},[t._v(t._s(t.totalDuration))])])]),a("div",{staticClass:"col-md-3 row align-items-center justify-content-center"},[a("a",{attrs:{href:"#"}},[t.volume<.5?a("i",{staticClass:"fas fa-volume-down",attrs:{id:"volumeIcon"}}):0==t.volume?a("i",{staticClass:"fas fa-volume-mute",attrs:{id:"volumeIcon"}}):a("i",{staticClass:"fas fa-volume-up",attrs:{id:"volumeIcon"}})]),a("input",{staticClass:"ml-2 slider",attrs:{type:"range",name:"",min:"0",max:"100",value:"80",id:"trackVolume"},on:{change:function(r){return t.changeVolume()}}})])])},c=[],o=(a("b680"),a("d3b7"),a("25f0"),a("5530")),u=new e["a"],l=u,f=a("2f62"),d={name:"Reproductor",data:function(){return{calculing:!1,current:0,progressValue:0,player:null,volumeControl:null}},mounted:function(){var t=this;this.player=this.$el.querySelector("#player"),this.volumeControl=this.$el.querySelector("#trackVolume"),l.$on("load-song",(function(r){return t.loadSong(r)})),l.$on("toggle-play",(function(){return t.togglePlay()}))},methods:Object(o["a"])({changeVolume:function(){this.setVolume(this.volumeControl.value/100),this.player.volume=this.volume},togglePlay:function(){this.isPlaying?(this.setIsPlaying(!1),this.player.pause()):(this.setIsPlaying(!0),this.player.play())},progressbar:function(){this.calculing||(this.current=this.player.currentTime,this.progressValue=parseFloat(this.player.currentTime/this.track.duration))},loadSong:function(t){this.setTrack(t),this.setIsPlaying(!1),this.player.load()},seek:function(t){this.calculing=!0;var r=t.offsetX/t.target.offsetWidth;this.player.currentTime=r*this.track.duration,this.progressValue=parseFloat(r/100),this.calculing=!1},forWard:function(){this.skip(),this.player.load(),this.togglePlay(),this.togglePlay()},backWard:function(){this.back(),this.player.load(),this.togglePlay(),this.togglePlay()}},Object(f["b"])("tracks",["setTrack","setIsPlaying","setVolume","setRepeat","skip","back","setRandom"])),computed:Object(o["a"])({totalDuration:function(){var t=this.track.duration,r=Math.floor(t/60),a=t-60*r,e=a.toString(),n=e.substr(0,2),s=r+":"+(n<10?"0"+n:n);return s},currentTime:function(){var t=this.current,r=parseInt(t/60)%60,a=t%60,e=a.toFixed(),n=(r<10?""+r:r)+":"+(e<10?"0"+e:e);return n}},Object(f["c"])("tracks",{track:"currentTrack",isPlaying:"isPlaying",volume:"volume",repeat:"repeat",isRandom:"isRandom"}))},p=d,m=(a("04c6"),a("2877")),h=Object(m["a"])(p,i,c,!1,null,"71a22e66",null),v=h.exports,k=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"List col-md-12"},[a("h2",{staticClass:"my-3"},[t._v("Ducenfy")]),a("div",{staticClass:"tabla"},[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.tracks,(function(r){return a("tr",{key:r._id,attrs:{id:r._id}},[a("td",[a("a",{attrs:{href:"#"},on:{click:function(a){return t.selectTrack(r._id)}}},[r._id!=t.currentTrack._id?a("i",{staticClass:"fas fa-play",attrs:{id:"playIcon"}}):t.isPlaying?a("i",{staticClass:"fas fa-pause activo",attrs:{id:"playIcon"}}):a("i",{staticClass:"fas fa-play activo",attrs:{id:"playIcon"}})])]),a("td",[t._v(t._s(r.title))]),a("td",[t._v(t._s(r.artist))]),a("td",[t._v(t._s(r.album))]),a("td",[t._v(t._s(t._f("formatTime")(r.duration)))])])})),0)])])])])])},g=[function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}},[t._v("Title")]),a("th",{attrs:{scope:"col"}},[t._v("Artist")]),a("th",{attrs:{scope:"col"}},[t._v("Album")]),a("th",{attrs:{scope:"col"}},[t._v("Duracion")])])])}],_=(a("96cf"),a("1da1")),y=a("bc3a"),T=a.n(y);function b(){return C.apply(this,arguments)}function C(){return C=Object(_["a"])(regeneratorRuntime.mark((function t(){var r,a,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get("/track");case 3:return r=t.sent,a=r.data,e=a.tracks,t.abrupt("return",e);case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),C.apply(this,arguments)}function R(t){return w.apply(this,arguments)}function w(){return w=Object(_["a"])(regeneratorRuntime.mark((function t(r){var a,e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.get("/track/".concat(r));case 3:return a=t.sent,e=a.data,n=e.track,t.abrupt("return",n);case 9:return t.prev=9,t.t0=t["catch"](0),t.abrupt("return",null);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),w.apply(this,arguments)}var S={listTrack:b,getTrack:R},P={tracks:S},x={name:"List",filters:{formatTime:function(t){var r=parseFloat(t),a=Math.floor(r/60),e=r-60*a,n=e.toString(),s=n.substr(0,2),i=a+":"+(s<10?"0"+s:s);return i}},computed:Object(f["c"])("tracks",["tracks","listTracks","currentTrack","isPlaying","repeat"]),mounted:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,P.tracks.listTrack();case 2:a=r.sent,t.setTracks(a);case 4:case"end":return r.stop()}}),r)})))()},methods:Object(o["a"])({},Object(f["b"])("tracks",["setTracks"]),{selectTrack:function(t){t!=this.currentTrack._id&&l.$emit("load-song",t),l.$emit("toggle-play")}})},E=x,O=(a("f62b"),Object(m["a"])(E,k,g,!1,null,null,null)),j=O.exports,I={components:{Reproductor:v,List:j}},A=I,M=(a("034f"),Object(m["a"])(A,n,s,!1,null,null,null)),V=M.exports,$=a("8c4f");e["a"].use($["a"]);var N=[],U=new $["a"]({mode:"history",base:"/",routes:N}),D=U,K=(a("7db0"),a("c740"),a("d81d"),a("a434"),a("38cf"),{tracks:[],listTracks:[],currentTrack:{_id:"",title:"Unknow",duration:0,photo:"/images/default-song-image.jpg",song:"",album:"Unknow",artist:"Unknow"},randomTracks:[],isPlaying:!1,isRandom:!1,repeat:0,volume:80}),L={},W={SET_CURRENT_TRACK:function(t,r){t.currentTrack=r},SET_IS_PLAYING:function(t,r){t.isPlaying=r},SET_VOLUME:function(t,r){t.volume=r},SET_TRACKS:function(t,r){t.tracks=r},SET_REPEAT:function(t,r){t.repeat=r},SET_IS_RANDOM:function(t,r){t.isRandom=r},SET_RANDOM_TRACKS:function(t,r){t.randomTracks=r}},F={setTrack:function(t,r){var a,e=t.commit,n=t.state;a=n.isRandom?n.randomTracks.find((function(t){return t._id==r})):n.tracks.find((function(t){return t._id==r})),e("SET_CURRENT_TRACK",a)},setIsPlaying:function(t,r){var a=t.commit;a("SET_IS_PLAYING",r)},setVolume:function(t,r){var a=t.commit;a("SET_VOLUME",r)},setTracks:function(t,r){var a=t.commit;a("SET_TRACKS",r)},setRepeat:function(t,r){var a=t.commit;a("SET_REPEAT",r)},skip:function(t){var r,a=t.commit,e=t.state,n=0;e.isRandom?(n=e.randomTracks.findIndex((function(t){return e.currentTrack._id==t._id})),r=e.randomTracks):(n=e.tracks.findIndex((function(t){return e.currentTrack._id==t._id})),r=e.tracks),2!=e.repeat&&(n==r.length-1?1==e.repeat&&(n=0):n++,a("SET_CURRENT_TRACK",r[n]))},back:function(t){var r,a=t.commit,e=t.state,n=0;e.isRandom?(n=e.randomTracks.findIndex((function(t){return e.currentTrack._id==t._id})),r=e.randomTracks):(n=e.tracks.findIndex((function(t){return e.currentTrack._id==t._id})),r=e.tracks),2!=e.repeat&&(0==n?1==e.repeat&&(n=r.length-1):n--,a("SET_CURRENT_TRACK",r[n]))},setRandom:function(t,r){var a=t.commit,e=t.state;if(r){var n=e.tracks.map((function(t){return t}));n.sort((function(){return Math.random()-.5}));var s=n.findIndex((function(t){return e.currentTrack._id==t._id}));if(-1!=s){var i=n.splice(s,1);n.splice(0,0,i[0])}a("SET_RANDOM_TRACKS",n)}a("SET_IS_RANDOM",r)}},q={namespaced:!0,state:K,getters:L,mutations:W,actions:F};e["a"].use(f["a"]);var G=new f["a"].Store({modules:{tracks:q}});e["a"].config.productionTip=!1,new e["a"]({router:D,store:G,render:function(t){return t(V)}}).$mount("#app")},"65da":function(t,r,a){},"85ec":function(t,r,a){},f62b:function(t,r,a){"use strict";var e=a("65da"),n=a.n(e);n.a}});
//# sourceMappingURL=app.bed6fd86.js.map